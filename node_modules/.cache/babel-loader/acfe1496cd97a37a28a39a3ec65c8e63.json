{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function file2Obj(file) {\n  return Object.assign(Object.assign({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\n\nexport function updateFileList(file, fileList) {\n  var nextFileList = _toConsumableArray(fileList);\n\n  var fileIndex = nextFileList.findIndex(function (_ref) {\n    var uid = _ref.uid;\n    return uid === file.uid;\n  });\n\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n\n  return nextFileList;\n}\nexport function getFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(function (item) {\n    return item[matchKey] === file[matchKey];\n  })[0];\n}\nexport function removeFileItem(file, fileList) {\n  var matchKey = file.uid !== undefined ? 'uid' : 'name';\n  var removed = fileList.filter(function (item) {\n    return item[matchKey] !== file[matchKey];\n  });\n\n  if (removed.length === fileList.length) {\n    return null;\n  }\n\n  return removed;\n} // ==================== Default Image Preview ====================\n\nvar extname = function extname() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var temp = url.split('/');\n  var filename = temp[temp.length - 1];\n  var filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\n\nvar isImageFileType = function isImageFileType(type) {\n  return type.indexOf('image/') === 0;\n};\n\nexport var isImageUrl = function isImageUrl(file) {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n\n  var url = file.thumbUrl || file.url || '';\n  var extension = extname(url);\n\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n\n  return true;\n};\nvar MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(function (resolve) {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n\n    var canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = \"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE, \"px; height: \").concat(MEASURE_SIZE, \"px; z-index: 9999; display: none;\");\n    document.body.appendChild(canvas);\n    var ctx = canvas.getContext('2d');\n    var img = new Image();\n\n    img.onload = function () {\n      var width = img.width,\n          height = img.height;\n      var drawWidth = MEASURE_SIZE;\n      var drawHeight = MEASURE_SIZE;\n      var offsetX = 0;\n      var offsetY = 0;\n\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      var dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n\n    img.crossOrigin = 'anonymous';\n\n    if (file.type.startsWith('image/svg+xml')) {\n      var reader = new FileReader();\n\n      reader.onload = function () {\n        if (reader.result && typeof reader.result === 'string') {\n          img.src = reader.result;\n        }\n      };\n\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      var _reader = new FileReader();\n\n      _reader.onload = function () {\n        if (_reader.result) {\n          resolve(_reader.result);\n        }\n      };\n\n      _reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}","map":{"version":3,"sources":["/Users/shamryshiraz/Documents/New/Untitled/Portfolio/New/Portfolio-Ruwan-Prasanna/node_modules/antd/es/upload/utils.js"],"names":["_toConsumableArray","file2Obj","file","Object","assign","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","updateFileList","fileList","nextFileList","fileIndex","findIndex","push","getFileItem","matchKey","undefined","filter","item","removeFileItem","removed","length","extname","url","temp","split","filename","filenameWithoutSuffix","exec","isImageFileType","indexOf","isImageUrl","thumbUrl","extension","test","MEASURE_SIZE","previewImage","Promise","resolve","canvas","document","createElement","width","height","style","cssText","body","appendChild","ctx","getContext","img","Image","onload","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","removeChild","window","URL","revokeObjectURL","src","crossOrigin","startsWith","reader","FileReader","result","readAsDataURL","createObjectURL"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function file2Obj(file) {\n  return Object.assign(Object.assign({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nexport function updateFileList(file, fileList) {\n  const nextFileList = _toConsumableArray(fileList);\n  const fileIndex = nextFileList.findIndex(({\n    uid\n  }) => uid === file.uid);\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nexport function getFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nconst extname = (url = '') => {\n  const temp = url.split('/');\n  const filename = temp[temp.length - 1];\n  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst isImageFileType = type => type.indexOf('image/') === 0;\nexport const isImageUrl = file => {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  const url = file.thumbUrl || file.url || '';\n  const extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nconst MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(resolve => {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      const {\n        width,\n        height\n      } = img;\n      let drawWidth = MEASURE_SIZE;\n      let drawHeight = MEASURE_SIZE;\n      let offsetX = 0;\n      let offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      const dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result && typeof reader.result === 'string') {\n          img.src = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result) {\n          resolve(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}"]},"metadata":{},"sourceType":"module"}