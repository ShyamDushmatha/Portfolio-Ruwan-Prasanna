{"ast":null,"code":"import _slicedToArray from \"/Users/shamryshiraz/Documents/New/Untitled/Portfolio/New/Portfolio-Ruwan-Prasanna/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport raf from \"rc-util/es/raf\";\nexport default function useFrameState(defaultValue) {\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  var frameRef = React.useRef(null);\n  var batchRef = React.useRef([]);\n  var destroyRef = React.useRef(false);\n  React.useEffect(function () {\n    destroyRef.current = false;\n    return function () {\n      destroyRef.current = true;\n      raf.cancel(frameRef.current);\n      frameRef.current = null;\n    };\n  }, []);\n\n  function setFrameValue(updater) {\n    if (destroyRef.current) {\n      return;\n    }\n\n    if (frameRef.current === null) {\n      batchRef.current = [];\n      frameRef.current = raf(function () {\n        frameRef.current = null;\n        setValue(function (prevValue) {\n          var current = prevValue;\n          batchRef.current.forEach(function (func) {\n            current = func(current);\n          });\n          return current;\n        });\n      });\n    }\n\n    batchRef.current.push(updater);\n  }\n\n  return [value, setFrameValue];\n}","map":{"version":3,"sources":["/Users/shamryshiraz/Documents/New/Untitled/Portfolio/New/Portfolio-Ruwan-Prasanna/node_modules/antd/es/form/hooks/useFrameState.js"],"names":["React","raf","useFrameState","defaultValue","useState","value","setValue","frameRef","useRef","batchRef","destroyRef","useEffect","current","cancel","setFrameValue","updater","prevValue","forEach","func","push"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AACA,eAAe,SAASC,aAAT,CAAuBC,YAAvB,EAAqC;AAClD,wBAA0BH,KAAK,CAACI,QAAN,CAAeD,YAAf,CAA1B;AAAA;AAAA,MAAOE,KAAP;AAAA,MAAcC,QAAd;;AACA,MAAMC,QAAQ,GAAGP,KAAK,CAACQ,MAAN,CAAa,IAAb,CAAjB;AACA,MAAMC,QAAQ,GAAGT,KAAK,CAACQ,MAAN,CAAa,EAAb,CAAjB;AACA,MAAME,UAAU,GAAGV,KAAK,CAACQ,MAAN,CAAa,KAAb,CAAnB;AACAR,EAAAA,KAAK,CAACW,SAAN,CAAgB,YAAM;AACpBD,IAAAA,UAAU,CAACE,OAAX,GAAqB,KAArB;AACA,WAAO,YAAM;AACXF,MAAAA,UAAU,CAACE,OAAX,GAAqB,IAArB;AACAX,MAAAA,GAAG,CAACY,MAAJ,CAAWN,QAAQ,CAACK,OAApB;AACAL,MAAAA,QAAQ,CAACK,OAAT,GAAmB,IAAnB;AACD,KAJD;AAKD,GAPD,EAOG,EAPH;;AAQA,WAASE,aAAT,CAAuBC,OAAvB,EAAgC;AAC9B,QAAIL,UAAU,CAACE,OAAf,EAAwB;AACtB;AACD;;AACD,QAAIL,QAAQ,CAACK,OAAT,KAAqB,IAAzB,EAA+B;AAC7BH,MAAAA,QAAQ,CAACG,OAAT,GAAmB,EAAnB;AACAL,MAAAA,QAAQ,CAACK,OAAT,GAAmBX,GAAG,CAAC,YAAM;AAC3BM,QAAAA,QAAQ,CAACK,OAAT,GAAmB,IAAnB;AACAN,QAAAA,QAAQ,CAAC,UAAAU,SAAS,EAAI;AACpB,cAAIJ,OAAO,GAAGI,SAAd;AACAP,UAAAA,QAAQ,CAACG,OAAT,CAAiBK,OAAjB,CAAyB,UAAAC,IAAI,EAAI;AAC/BN,YAAAA,OAAO,GAAGM,IAAI,CAACN,OAAD,CAAd;AACD,WAFD;AAGA,iBAAOA,OAAP;AACD,SANO,CAAR;AAOD,OATqB,CAAtB;AAUD;;AACDH,IAAAA,QAAQ,CAACG,OAAT,CAAiBO,IAAjB,CAAsBJ,OAAtB;AACD;;AACD,SAAO,CAACV,KAAD,EAAQS,aAAR,CAAP;AACD","sourcesContent":["import * as React from 'react';\nimport raf from \"rc-util/es/raf\";\nexport default function useFrameState(defaultValue) {\n  const [value, setValue] = React.useState(defaultValue);\n  const frameRef = React.useRef(null);\n  const batchRef = React.useRef([]);\n  const destroyRef = React.useRef(false);\n  React.useEffect(() => {\n    destroyRef.current = false;\n    return () => {\n      destroyRef.current = true;\n      raf.cancel(frameRef.current);\n      frameRef.current = null;\n    };\n  }, []);\n  function setFrameValue(updater) {\n    if (destroyRef.current) {\n      return;\n    }\n    if (frameRef.current === null) {\n      batchRef.current = [];\n      frameRef.current = raf(() => {\n        frameRef.current = null;\n        setValue(prevValue => {\n          let current = prevValue;\n          batchRef.current.forEach(func => {\n            current = func(current);\n          });\n          return current;\n        });\n      });\n    }\n    batchRef.current.push(updater);\n  }\n  return [value, setFrameValue];\n}"]},"metadata":{},"sourceType":"module"}