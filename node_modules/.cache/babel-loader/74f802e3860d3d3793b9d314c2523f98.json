{"ast":null,"code":"\"use client\";\n\nimport _slicedToArray from \"/Users/shamryshiraz/Documents/New/Untitled/Portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport FileTwoTone from \"@ant-design/icons/es/icons/FileTwoTone\";\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport PaperClipOutlined from \"@ant-design/icons/es/icons/PaperClipOutlined\";\nimport PictureTwoTone from \"@ant-design/icons/es/icons/PictureTwoTone\";\nimport classNames from 'classnames';\nimport CSSMotion, { CSSMotionList } from 'rc-motion';\nimport omit from \"rc-util/es/omit\";\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\nimport initCollapseMotion from '../../_util/motion';\nimport { cloneElement } from '../../_util/reactNode';\nimport Button from '../../button';\nimport { ConfigContext } from '../../config-provider';\nimport { isImageUrl, previewImage } from '../utils';\nimport ListItem from './ListItem';\n\nvar InternalUploadList = function InternalUploadList(props, ref) {\n  var _props$listType = props.listType,\n      listType = _props$listType === void 0 ? 'text' : _props$listType,\n      _props$previewFile = props.previewFile,\n      previewFile = _props$previewFile === void 0 ? previewImage : _props$previewFile,\n      onPreview = props.onPreview,\n      onDownload = props.onDownload,\n      onRemove = props.onRemove,\n      locale = props.locale,\n      iconRender = props.iconRender,\n      _props$isImageUrl = props.isImageUrl,\n      isImgUrl = _props$isImageUrl === void 0 ? isImageUrl : _props$isImageUrl,\n      customizePrefixCls = props.prefixCls,\n      _props$items = props.items,\n      items = _props$items === void 0 ? [] : _props$items,\n      _props$showPreviewIco = props.showPreviewIcon,\n      showPreviewIcon = _props$showPreviewIco === void 0 ? true : _props$showPreviewIco,\n      _props$showRemoveIcon = props.showRemoveIcon,\n      showRemoveIcon = _props$showRemoveIcon === void 0 ? true : _props$showRemoveIcon,\n      _props$showDownloadIc = props.showDownloadIcon,\n      showDownloadIcon = _props$showDownloadIc === void 0 ? false : _props$showDownloadIc,\n      removeIcon = props.removeIcon,\n      previewIcon = props.previewIcon,\n      downloadIcon = props.downloadIcon,\n      extra = props.extra,\n      _props$progress = props.progress,\n      progress = _props$progress === void 0 ? {\n    size: [-1, 2],\n    showInfo: false\n  } : _props$progress,\n      appendAction = props.appendAction,\n      _props$appendActionVi = props.appendActionVisible,\n      appendActionVisible = _props$appendActionVi === void 0 ? true : _props$appendActionVi,\n      itemRender = props.itemRender,\n      disabled = props.disabled;\n  var forceUpdate = useForceUpdate();\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      motionAppear = _React$useState2[0],\n      setMotionAppear = _React$useState2[1];\n\n  var isPictureCardOrCirle = ['picture-card', 'picture-circle'].includes(listType); // ============================= Effect =============================\n\n  React.useEffect(function () {\n    if (!listType.startsWith('picture')) {\n      return;\n    }\n\n    (items || []).forEach(function (file) {\n      if (!(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n\n      file.thumbUrl = '';\n      previewFile === null || previewFile === void 0 ? void 0 : previewFile(file.originFileObj).then(function (previewDataUrl) {\n        // Need append '' to avoid dead loop\n        file.thumbUrl = previewDataUrl || '';\n        forceUpdate();\n      });\n    });\n  }, [listType, items, previewFile]);\n  React.useEffect(function () {\n    setMotionAppear(true);\n  }, []); // ============================= Events =============================\n\n  var onInternalPreview = function onInternalPreview(file, e) {\n    if (!onPreview) {\n      return;\n    }\n\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    return onPreview(file);\n  };\n\n  var onInternalDownload = function onInternalDownload(file) {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n\n  var onInternalClose = function onInternalClose(file) {\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(file);\n  };\n\n  var internalIconRender = function internalIconRender(file) {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n\n    var isLoading = file.status === 'uploading';\n\n    if (listType.startsWith('picture')) {\n      var loadingIcon = listType === 'picture' ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : locale.uploading;\n      var fileIcon = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? /*#__PURE__*/React.createElement(PictureTwoTone, null) : /*#__PURE__*/React.createElement(FileTwoTone, null);\n      return isLoading ? loadingIcon : fileIcon;\n    }\n\n    return isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PaperClipOutlined, null);\n  };\n\n  var actionIconRender = function actionIconRender(customIcon, callback, prefixCls, title, acceptUploadDisabled) {\n    var btnProps = {\n      type: 'text',\n      size: 'small',\n      title: title,\n      onClick: function onClick(e) {\n        var _a, _b;\n\n        callback();\n\n        if ( /*#__PURE__*/React.isValidElement(customIcon)) {\n          (_b = (_a = customIcon.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n      },\n      className: \"\".concat(prefixCls, \"-list-item-action\"),\n      disabled: acceptUploadDisabled ? disabled : false\n    };\n    return /*#__PURE__*/React.isValidElement(customIcon) ? /*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps, {\n      icon: cloneElement(customIcon, Object.assign(Object.assign({}, customIcon.props), {\n        onClick: function onClick() {}\n      }))\n    })) : /*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps), /*#__PURE__*/React.createElement(\"span\", null, customIcon));\n  }; // ============================== Ref ===============================\n  // Test needs\n\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      handlePreview: onInternalPreview,\n      handleDownload: onInternalDownload\n    };\n  });\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls; // ============================= Render =============================\n\n\n  var prefixCls = getPrefixCls('upload', customizePrefixCls);\n  var rootPrefixCls = getPrefixCls();\n  var listClassNames = classNames(\"\".concat(prefixCls, \"-list\"), \"\".concat(prefixCls, \"-list-\").concat(listType));\n  var listItemMotion = React.useMemo(function () {\n    return omit(initCollapseMotion(rootPrefixCls), ['onAppearEnd', 'onEnterEnd', 'onLeaveEnd']);\n  }, [rootPrefixCls]);\n  var motionConfig = Object.assign(Object.assign({}, isPictureCardOrCirle ? {} : listItemMotion), {\n    motionDeadline: 2000,\n    motionName: \"\".concat(prefixCls, \"-\").concat(isPictureCardOrCirle ? 'animate-inline' : 'animate'),\n    keys: _toConsumableArray(items.map(function (file) {\n      return {\n        key: file.uid,\n        file: file\n      };\n    })),\n    motionAppear: motionAppear\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: listClassNames\n  }, /*#__PURE__*/React.createElement(CSSMotionList, Object.assign({}, motionConfig, {\n    component: false\n  }), function (_ref) {\n    var key = _ref.key,\n        file = _ref.file,\n        motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: key,\n      locale: locale,\n      prefixCls: prefixCls,\n      className: motionClassName,\n      style: motionStyle,\n      file: file,\n      items: items,\n      progress: progress,\n      listType: listType,\n      isImgUrl: isImgUrl,\n      showPreviewIcon: showPreviewIcon,\n      showRemoveIcon: showRemoveIcon,\n      showDownloadIcon: showDownloadIcon,\n      removeIcon: removeIcon,\n      previewIcon: previewIcon,\n      downloadIcon: downloadIcon,\n      extra: extra,\n      iconRender: internalIconRender,\n      actionIconRender: actionIconRender,\n      itemRender: itemRender,\n      onPreview: onInternalPreview,\n      onDownload: onInternalDownload,\n      onClose: onInternalClose\n    });\n  }), appendAction && /*#__PURE__*/React.createElement(CSSMotion, Object.assign({}, motionConfig, {\n    visible: appendActionVisible,\n    forceRender: true\n  }), function (_ref2) {\n    var motionClassName = _ref2.className,\n        motionStyle = _ref2.style;\n    return cloneElement(appendAction, function (oriProps) {\n      return {\n        className: classNames(oriProps.className, motionClassName),\n        style: Object.assign(Object.assign(Object.assign({}, motionStyle), {\n          // prevent the element has hover css pseudo-class that may cause animation to end prematurely.\n          pointerEvents: motionClassName ? 'none' : undefined\n        }), oriProps.style)\n      };\n    });\n  }));\n};\n\nvar UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\n\nif (process.env.NODE_ENV !== 'production') {\n  UploadList.displayName = 'UploadList';\n}\n\nexport default UploadList;","map":{"version":3,"sources":["/Users/shamryshiraz/Documents/New/Untitled/Portfolio/node_modules/antd/es/upload/UploadList/index.js"],"names":["_toConsumableArray","React","FileTwoTone","LoadingOutlined","PaperClipOutlined","PictureTwoTone","classNames","CSSMotion","CSSMotionList","omit","useForceUpdate","initCollapseMotion","cloneElement","Button","ConfigContext","isImageUrl","previewImage","ListItem","InternalUploadList","props","ref","listType","previewFile","onPreview","onDownload","onRemove","locale","iconRender","isImgUrl","customizePrefixCls","prefixCls","items","showPreviewIcon","showRemoveIcon","showDownloadIcon","removeIcon","previewIcon","downloadIcon","extra","progress","size","showInfo","appendAction","appendActionVisible","itemRender","disabled","forceUpdate","useState","motionAppear","setMotionAppear","isPictureCardOrCirle","includes","useEffect","startsWith","forEach","file","originFileObj","File","Blob","thumbUrl","undefined","then","previewDataUrl","onInternalPreview","e","preventDefault","onInternalDownload","url","window","open","onInternalClose","internalIconRender","isLoading","status","loadingIcon","createElement","uploading","fileIcon","actionIconRender","customIcon","callback","title","acceptUploadDisabled","btnProps","type","onClick","_a","_b","isValidElement","call","className","Object","assign","icon","useImperativeHandle","handlePreview","handleDownload","useContext","getPrefixCls","rootPrefixCls","listClassNames","listItemMotion","useMemo","motionConfig","motionDeadline","motionName","keys","map","key","uid","component","motionClassName","motionStyle","style","onClose","visible","forceRender","oriProps","pointerEvents","UploadList","forwardRef","process","env","NODE_ENV","displayName"],"mappings":"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","sourcesContent":["\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport * as React from 'react';\nimport FileTwoTone from \"@ant-design/icons/es/icons/FileTwoTone\";\nimport LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport PaperClipOutlined from \"@ant-design/icons/es/icons/PaperClipOutlined\";\nimport PictureTwoTone from \"@ant-design/icons/es/icons/PictureTwoTone\";\nimport classNames from 'classnames';\nimport CSSMotion, { CSSMotionList } from 'rc-motion';\nimport omit from \"rc-util/es/omit\";\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\nimport initCollapseMotion from '../../_util/motion';\nimport { cloneElement } from '../../_util/reactNode';\nimport Button from '../../button';\nimport { ConfigContext } from '../../config-provider';\nimport { isImageUrl, previewImage } from '../utils';\nimport ListItem from './ListItem';\nconst InternalUploadList = (props, ref) => {\n  const {\n    listType = 'text',\n    previewFile = previewImage,\n    onPreview,\n    onDownload,\n    onRemove,\n    locale,\n    iconRender,\n    isImageUrl: isImgUrl = isImageUrl,\n    prefixCls: customizePrefixCls,\n    items = [],\n    showPreviewIcon = true,\n    showRemoveIcon = true,\n    showDownloadIcon = false,\n    removeIcon,\n    previewIcon,\n    downloadIcon,\n    extra,\n    progress = {\n      size: [-1, 2],\n      showInfo: false\n    },\n    appendAction,\n    appendActionVisible = true,\n    itemRender,\n    disabled\n  } = props;\n  const forceUpdate = useForceUpdate();\n  const [motionAppear, setMotionAppear] = React.useState(false);\n  const isPictureCardOrCirle = ['picture-card', 'picture-circle'].includes(listType);\n  // ============================= Effect =============================\n  React.useEffect(() => {\n    if (!listType.startsWith('picture')) {\n      return;\n    }\n    (items || []).forEach(file => {\n      if (!(file.originFileObj instanceof File || file.originFileObj instanceof Blob) || file.thumbUrl !== undefined) {\n        return;\n      }\n      file.thumbUrl = '';\n      previewFile === null || previewFile === void 0 ? void 0 : previewFile(file.originFileObj).then(previewDataUrl => {\n        // Need append '' to avoid dead loop\n        file.thumbUrl = previewDataUrl || '';\n        forceUpdate();\n      });\n    });\n  }, [listType, items, previewFile]);\n  React.useEffect(() => {\n    setMotionAppear(true);\n  }, []);\n  // ============================= Events =============================\n  const onInternalPreview = (file, e) => {\n    if (!onPreview) {\n      return;\n    }\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n    return onPreview(file);\n  };\n  const onInternalDownload = file => {\n    if (typeof onDownload === 'function') {\n      onDownload(file);\n    } else if (file.url) {\n      window.open(file.url);\n    }\n  };\n  const onInternalClose = file => {\n    onRemove === null || onRemove === void 0 ? void 0 : onRemove(file);\n  };\n  const internalIconRender = file => {\n    if (iconRender) {\n      return iconRender(file, listType);\n    }\n    const isLoading = file.status === 'uploading';\n    if (listType.startsWith('picture')) {\n      const loadingIcon = listType === 'picture' ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : locale.uploading;\n      const fileIcon = (isImgUrl === null || isImgUrl === void 0 ? void 0 : isImgUrl(file)) ? /*#__PURE__*/React.createElement(PictureTwoTone, null) : /*#__PURE__*/React.createElement(FileTwoTone, null);\n      return isLoading ? loadingIcon : fileIcon;\n    }\n    return isLoading ? /*#__PURE__*/React.createElement(LoadingOutlined, null) : /*#__PURE__*/React.createElement(PaperClipOutlined, null);\n  };\n  const actionIconRender = (customIcon, callback, prefixCls, title, acceptUploadDisabled) => {\n    const btnProps = {\n      type: 'text',\n      size: 'small',\n      title,\n      onClick: e => {\n        var _a, _b;\n        callback();\n        if (/*#__PURE__*/React.isValidElement(customIcon)) {\n          (_b = (_a = customIcon.props).onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n      },\n      className: `${prefixCls}-list-item-action`,\n      disabled: acceptUploadDisabled ? disabled : false\n    };\n    return /*#__PURE__*/React.isValidElement(customIcon) ? (/*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps, {\n      icon: cloneElement(customIcon, Object.assign(Object.assign({}, customIcon.props), {\n        onClick: () => {}\n      }))\n    }))) : (/*#__PURE__*/React.createElement(Button, Object.assign({}, btnProps), /*#__PURE__*/React.createElement(\"span\", null, customIcon)));\n  };\n  // ============================== Ref ===============================\n  // Test needs\n  React.useImperativeHandle(ref, () => ({\n    handlePreview: onInternalPreview,\n    handleDownload: onInternalDownload\n  }));\n  const {\n    getPrefixCls\n  } = React.useContext(ConfigContext);\n  // ============================= Render =============================\n  const prefixCls = getPrefixCls('upload', customizePrefixCls);\n  const rootPrefixCls = getPrefixCls();\n  const listClassNames = classNames(`${prefixCls}-list`, `${prefixCls}-list-${listType}`);\n  const listItemMotion = React.useMemo(() => omit(initCollapseMotion(rootPrefixCls), ['onAppearEnd', 'onEnterEnd', 'onLeaveEnd']), [rootPrefixCls]);\n  const motionConfig = Object.assign(Object.assign({}, isPictureCardOrCirle ? {} : listItemMotion), {\n    motionDeadline: 2000,\n    motionName: `${prefixCls}-${isPictureCardOrCirle ? 'animate-inline' : 'animate'}`,\n    keys: _toConsumableArray(items.map(file => ({\n      key: file.uid,\n      file\n    }))),\n    motionAppear\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: listClassNames\n  }, /*#__PURE__*/React.createElement(CSSMotionList, Object.assign({}, motionConfig, {\n    component: false\n  }), ({\n    key,\n    file,\n    className: motionClassName,\n    style: motionStyle\n  }) => (/*#__PURE__*/React.createElement(ListItem, {\n    key: key,\n    locale: locale,\n    prefixCls: prefixCls,\n    className: motionClassName,\n    style: motionStyle,\n    file: file,\n    items: items,\n    progress: progress,\n    listType: listType,\n    isImgUrl: isImgUrl,\n    showPreviewIcon: showPreviewIcon,\n    showRemoveIcon: showRemoveIcon,\n    showDownloadIcon: showDownloadIcon,\n    removeIcon: removeIcon,\n    previewIcon: previewIcon,\n    downloadIcon: downloadIcon,\n    extra: extra,\n    iconRender: internalIconRender,\n    actionIconRender: actionIconRender,\n    itemRender: itemRender,\n    onPreview: onInternalPreview,\n    onDownload: onInternalDownload,\n    onClose: onInternalClose\n  }))), appendAction && (/*#__PURE__*/React.createElement(CSSMotion, Object.assign({}, motionConfig, {\n    visible: appendActionVisible,\n    forceRender: true\n  }), ({\n    className: motionClassName,\n    style: motionStyle\n  }) => cloneElement(appendAction, oriProps => ({\n    className: classNames(oriProps.className, motionClassName),\n    style: Object.assign(Object.assign(Object.assign({}, motionStyle), {\n      // prevent the element has hover css pseudo-class that may cause animation to end prematurely.\n      pointerEvents: motionClassName ? 'none' : undefined\n    }), oriProps.style)\n  })))));\n};\nconst UploadList = /*#__PURE__*/React.forwardRef(InternalUploadList);\nif (process.env.NODE_ENV !== 'production') {\n  UploadList.displayName = 'UploadList';\n}\nexport default UploadList;"]},"metadata":{},"sourceType":"module"}