{"ast":null,"code":"import * as React from 'react';\nimport { getStyleStr } from './utils';\n/**\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\n * Only alternate layout is currently supported\n */\n\nexport var BaseSize = 2;\nexport var FontGap = 3; // Prevent external hidden elements from adding accent styles\n\nvar emphasizedStyle = {\n  visibility: 'visible !important'\n};\nexport default function useWatermark(markStyle) {\n  var watermarkMap = React.useRef(new Map());\n\n  var appendWatermark = function appendWatermark(base64Url, markWidth, container) {\n    if (container) {\n      if (!watermarkMap.current.get(container)) {\n        var newWatermarkEle = document.createElement('div');\n        watermarkMap.current.set(container, newWatermarkEle);\n      }\n\n      var watermarkEle = watermarkMap.current.get(container);\n      watermarkEle.setAttribute('style', getStyleStr(Object.assign(Object.assign(Object.assign({}, markStyle), {\n        backgroundImage: \"url('\".concat(base64Url, \"')\"),\n        backgroundSize: \"\".concat(Math.floor(markWidth), \"px\")\n      }), emphasizedStyle))); // Prevents using the browser `Hide Element` to hide watermarks\n\n      watermarkEle.removeAttribute('class');\n      watermarkEle.removeAttribute('hidden');\n\n      if (watermarkEle.parentElement !== container) {\n        container.append(watermarkEle);\n      }\n    }\n\n    return watermarkMap.current.get(container);\n  };\n\n  var removeWatermark = function removeWatermark(container) {\n    var watermarkEle = watermarkMap.current.get(container);\n\n    if (watermarkEle && container) {\n      container.removeChild(watermarkEle);\n    }\n\n    watermarkMap.current.delete(container);\n  };\n\n  var isWatermarkEle = function isWatermarkEle(ele) {\n    return Array.from(watermarkMap.current.values()).includes(ele);\n  };\n\n  return [appendWatermark, removeWatermark, isWatermarkEle];\n}","map":{"version":3,"sources":["/Users/shamryshiraz/Documents/New/Untitled/Portfolio/node_modules/antd/es/watermark/useWatermark.js"],"names":["React","getStyleStr","BaseSize","FontGap","emphasizedStyle","visibility","useWatermark","markStyle","watermarkMap","useRef","Map","appendWatermark","base64Url","markWidth","container","current","get","newWatermarkEle","document","createElement","set","watermarkEle","setAttribute","Object","assign","backgroundImage","backgroundSize","Math","floor","removeAttribute","parentElement","append","removeWatermark","removeChild","delete","isWatermarkEle","ele","Array","from","values","includes"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,WAAT,QAA4B,SAA5B;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,QAAQ,GAAG,CAAjB;AACP,OAAO,IAAMC,OAAO,GAAG,CAAhB,C,CACP;;AACA,IAAMC,eAAe,GAAG;AACtBC,EAAAA,UAAU,EAAE;AADU,CAAxB;AAGA,eAAe,SAASC,YAAT,CAAsBC,SAAtB,EAAiC;AAC9C,MAAMC,YAAY,GAAGR,KAAK,CAACS,MAAN,CAAa,IAAIC,GAAJ,EAAb,CAArB;;AACA,MAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,SAAvB,EAAqC;AAC3D,QAAIA,SAAJ,EAAe;AACb,UAAI,CAACN,YAAY,CAACO,OAAb,CAAqBC,GAArB,CAAyBF,SAAzB,CAAL,EAA0C;AACxC,YAAMG,eAAe,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAxB;AACAX,QAAAA,YAAY,CAACO,OAAb,CAAqBK,GAArB,CAAyBN,SAAzB,EAAoCG,eAApC;AACD;;AACD,UAAMI,YAAY,GAAGb,YAAY,CAACO,OAAb,CAAqBC,GAArB,CAAyBF,SAAzB,CAArB;AACAO,MAAAA,YAAY,CAACC,YAAb,CAA0B,OAA1B,EAAmCrB,WAAW,CAACsB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBjB,SAAlB,CAAd,EAA4C;AACvGkB,QAAAA,eAAe,iBAAUb,SAAV,OADwF;AAEvGc,QAAAA,cAAc,YAAKC,IAAI,CAACC,KAAL,CAAWf,SAAX,CAAL;AAFyF,OAA5C,CAAd,EAG3CT,eAH2C,CAAD,CAA9C,EANa,CAUb;;AACAiB,MAAAA,YAAY,CAACQ,eAAb,CAA6B,OAA7B;AACAR,MAAAA,YAAY,CAACQ,eAAb,CAA6B,QAA7B;;AACA,UAAIR,YAAY,CAACS,aAAb,KAA+BhB,SAAnC,EAA8C;AAC5CA,QAAAA,SAAS,CAACiB,MAAV,CAAiBV,YAAjB;AACD;AACF;;AACD,WAAOb,YAAY,CAACO,OAAb,CAAqBC,GAArB,CAAyBF,SAAzB,CAAP;AACD,GAnBD;;AAoBA,MAAMkB,eAAe,GAAG,SAAlBA,eAAkB,CAAAlB,SAAS,EAAI;AACnC,QAAMO,YAAY,GAAGb,YAAY,CAACO,OAAb,CAAqBC,GAArB,CAAyBF,SAAzB,CAArB;;AACA,QAAIO,YAAY,IAAIP,SAApB,EAA+B;AAC7BA,MAAAA,SAAS,CAACmB,WAAV,CAAsBZ,YAAtB;AACD;;AACDb,IAAAA,YAAY,CAACO,OAAb,CAAqBmB,MAArB,CAA4BpB,SAA5B;AACD,GAND;;AAOA,MAAMqB,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,GAAG;AAAA,WAAIC,KAAK,CAACC,IAAN,CAAW9B,YAAY,CAACO,OAAb,CAAqBwB,MAArB,EAAX,EAA0CC,QAA1C,CAAmDJ,GAAnD,CAAJ;AAAA,GAA1B;;AACA,SAAO,CAACzB,eAAD,EAAkBqB,eAAlB,EAAmCG,cAAnC,CAAP;AACD","sourcesContent":["import * as React from 'react';\nimport { getStyleStr } from './utils';\n/**\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\n * Only alternate layout is currently supported\n */\nexport const BaseSize = 2;\nexport const FontGap = 3;\n// Prevent external hidden elements from adding accent styles\nconst emphasizedStyle = {\n  visibility: 'visible !important'\n};\nexport default function useWatermark(markStyle) {\n  const watermarkMap = React.useRef(new Map());\n  const appendWatermark = (base64Url, markWidth, container) => {\n    if (container) {\n      if (!watermarkMap.current.get(container)) {\n        const newWatermarkEle = document.createElement('div');\n        watermarkMap.current.set(container, newWatermarkEle);\n      }\n      const watermarkEle = watermarkMap.current.get(container);\n      watermarkEle.setAttribute('style', getStyleStr(Object.assign(Object.assign(Object.assign({}, markStyle), {\n        backgroundImage: `url('${base64Url}')`,\n        backgroundSize: `${Math.floor(markWidth)}px`\n      }), emphasizedStyle)));\n      // Prevents using the browser `Hide Element` to hide watermarks\n      watermarkEle.removeAttribute('class');\n      watermarkEle.removeAttribute('hidden');\n      if (watermarkEle.parentElement !== container) {\n        container.append(watermarkEle);\n      }\n    }\n    return watermarkMap.current.get(container);\n  };\n  const removeWatermark = container => {\n    const watermarkEle = watermarkMap.current.get(container);\n    if (watermarkEle && container) {\n      container.removeChild(watermarkEle);\n    }\n    watermarkMap.current.delete(container);\n  };\n  const isWatermarkEle = ele => Array.from(watermarkMap.current.values()).includes(ele);\n  return [appendWatermark, removeWatermark, isWatermarkEle];\n}"]},"metadata":{},"sourceType":"module"}