{"ast":null,"code":"\"use client\";\n\nimport _defineProperty from \"/Users/shamryshiraz/Documents/New/Untitled/Portfolio/New/Portfolio-Ruwan-Prasanna/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/shamryshiraz/Documents/New/Untitled/Portfolio/New/Portfolio-Ruwan-Prasanna/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport React, { useCallback, useContext } from 'react';\nimport classNames from 'classnames';\nimport useMultipleSelect from '../_util/hooks/useMultipleSelect';\nimport { getMergedStatus, getStatusClassNames } from '../_util/statusUtils';\nimport { groupDisabledKeysMap, groupKeysMap } from '../_util/transKeys';\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport DefaultRenderEmpty from '../config-provider/defaultRenderEmpty';\nimport { FormItemInputContext } from '../form/context';\nimport { useLocale } from '../locale';\nimport defaultLocale from '../locale/en_US';\nimport useData from './hooks/useData';\nimport useSelection from './hooks/useSelection';\nimport List from './list';\nimport Operation from './operation';\nimport Search from './search';\nimport useStyle from './style';\n\nvar Transfer = function Transfer(props) {\n  var _classNames;\n\n  var dataSource = props.dataSource,\n      _props$targetKeys = props.targetKeys,\n      targetKeys = _props$targetKeys === void 0 ? [] : _props$targetKeys,\n      selectedKeys = props.selectedKeys,\n      _props$selectAllLabel = props.selectAllLabels,\n      selectAllLabels = _props$selectAllLabel === void 0 ? [] : _props$selectAllLabel,\n      _props$operations = props.operations,\n      operations = _props$operations === void 0 ? [] : _props$operations,\n      _props$style = props.style,\n      style = _props$style === void 0 ? {} : _props$style,\n      _props$listStyle = props.listStyle,\n      listStyle = _props$listStyle === void 0 ? {} : _props$listStyle,\n      _props$locale = props.locale,\n      locale = _props$locale === void 0 ? {} : _props$locale,\n      titles = props.titles,\n      disabled = props.disabled,\n      _props$showSearch = props.showSearch,\n      showSearch = _props$showSearch === void 0 ? false : _props$showSearch,\n      operationStyle = props.operationStyle,\n      showSelectAll = props.showSelectAll,\n      oneWay = props.oneWay,\n      pagination = props.pagination,\n      customStatus = props.status,\n      customizePrefixCls = props.prefixCls,\n      className = props.className,\n      rootClassName = props.rootClassName,\n      selectionsIcon = props.selectionsIcon,\n      filterOption = props.filterOption,\n      render = props.render,\n      footer = props.footer,\n      children = props.children,\n      rowKey = props.rowKey,\n      onScroll = props.onScroll,\n      onChange = props.onChange,\n      onSearch = props.onSearch,\n      onSelectChange = props.onSelectChange;\n\n  var _useContext = useContext(ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls,\n      renderEmpty = _useContext.renderEmpty,\n      dir = _useContext.direction,\n      transfer = _useContext.transfer;\n\n  var prefixCls = getPrefixCls('transfer', customizePrefixCls);\n\n  var _useStyle = useStyle(prefixCls),\n      _useStyle2 = _slicedToArray(_useStyle, 3),\n      wrapCSSVar = _useStyle2[0],\n      hashId = _useStyle2[1],\n      cssVarCls = _useStyle2[2]; // Fill record with `key`\n\n\n  var _useData = useData(dataSource, rowKey, targetKeys),\n      _useData2 = _slicedToArray(_useData, 3),\n      mergedDataSource = _useData2[0],\n      leftDataSource = _useData2[1],\n      rightDataSource = _useData2[2]; // Get direction selected keys\n\n\n  var _useSelection = useSelection(leftDataSource, rightDataSource, selectedKeys),\n      _useSelection2 = _slicedToArray(_useSelection, 4),\n      // Keys\n  sourceSelectedKeys = _useSelection2[0],\n      targetSelectedKeys = _useSelection2[1],\n      // Setters\n  setSourceSelectedKeys = _useSelection2[2],\n      setTargetSelectedKeys = _useSelection2[3];\n\n  var _useMultipleSelect = useMultipleSelect(function (item) {\n    return item.key;\n  }),\n      _useMultipleSelect2 = _slicedToArray(_useMultipleSelect, 2),\n      leftMultipleSelect = _useMultipleSelect2[0],\n      updateLeftPrevSelectedIndex = _useMultipleSelect2[1];\n\n  var _useMultipleSelect3 = useMultipleSelect(function (item) {\n    return item.key;\n  }),\n      _useMultipleSelect4 = _slicedToArray(_useMultipleSelect3, 2),\n      rightMultipleSelect = _useMultipleSelect4[0],\n      updateRightPrevSelectedIndex = _useMultipleSelect4[1];\n\n  if (process.env.NODE_ENV !== 'production') {\n    var warning = devUseWarning('Transfer');\n    process.env.NODE_ENV !== \"production\" ? warning(!pagination || !children, 'usage', '`pagination` not support customize render list.') : void 0;\n  }\n\n  var setStateKeys = useCallback(function (direction, keys) {\n    if (direction === 'left') {\n      var nextKeys = typeof keys === 'function' ? keys(sourceSelectedKeys || []) : keys;\n      setSourceSelectedKeys(nextKeys);\n    } else {\n      var _nextKeys = typeof keys === 'function' ? keys(targetSelectedKeys || []) : keys;\n\n      setTargetSelectedKeys(_nextKeys);\n    }\n  }, [sourceSelectedKeys, targetSelectedKeys]);\n\n  var setPrevSelectedIndex = function setPrevSelectedIndex(direction, value) {\n    var isLeftDirection = direction === 'left';\n    var updatePrevSelectedIndex = isLeftDirection ? updateLeftPrevSelectedIndex : updateRightPrevSelectedIndex;\n    updatePrevSelectedIndex(value);\n  };\n\n  var handleSelectChange = useCallback(function (direction, holder) {\n    if (direction === 'left') {\n      onSelectChange === null || onSelectChange === void 0 ? void 0 : onSelectChange(holder, targetSelectedKeys);\n    } else {\n      onSelectChange === null || onSelectChange === void 0 ? void 0 : onSelectChange(sourceSelectedKeys, holder);\n    }\n  }, [sourceSelectedKeys, targetSelectedKeys]);\n\n  var getTitles = function getTitles(transferLocale) {\n    var _a;\n\n    return (_a = titles !== null && titles !== void 0 ? titles : transferLocale.titles) !== null && _a !== void 0 ? _a : [];\n  };\n\n  var handleLeftScroll = function handleLeftScroll(e) {\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll('left', e);\n  };\n\n  var handleRightScroll = function handleRightScroll(e) {\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll('right', e);\n  };\n\n  var moveTo = function moveTo(direction) {\n    var moveKeys = direction === 'right' ? sourceSelectedKeys : targetSelectedKeys;\n    var dataSourceDisabledKeysMap = groupDisabledKeysMap(mergedDataSource); // filter the disabled options\n\n    var newMoveKeys = moveKeys.filter(function (key) {\n      return !dataSourceDisabledKeysMap.has(key);\n    });\n    var newMoveKeysMap = groupKeysMap(newMoveKeys); // move items to target box\n\n    var newTargetKeys = direction === 'right' ? newMoveKeys.concat(targetKeys) : targetKeys.filter(function (targetKey) {\n      return !newMoveKeysMap.has(targetKey);\n    }); // empty checked keys\n\n    var oppositeDirection = direction === 'right' ? 'left' : 'right';\n    setStateKeys(oppositeDirection, []);\n    handleSelectChange(oppositeDirection, []);\n    onChange === null || onChange === void 0 ? void 0 : onChange(newTargetKeys, direction, newMoveKeys);\n  };\n\n  var moveToLeft = function moveToLeft() {\n    moveTo('left');\n    setPrevSelectedIndex('left', null);\n  };\n\n  var moveToRight = function moveToRight() {\n    moveTo('right');\n    setPrevSelectedIndex('right', null);\n  };\n\n  var onItemSelectAll = function onItemSelectAll(direction, keys, checkAll) {\n    setStateKeys(direction, function (prevKeys) {\n      var mergedCheckedKeys = [];\n\n      if (checkAll === 'replace') {\n        mergedCheckedKeys = keys;\n      } else if (checkAll) {\n        // Merge current keys with origin key\n        mergedCheckedKeys = Array.from(new Set([].concat(_toConsumableArray(prevKeys), _toConsumableArray(keys))));\n      } else {\n        var selectedKeysMap = groupKeysMap(keys); // Remove current keys from origin keys\n\n        mergedCheckedKeys = prevKeys.filter(function (key) {\n          return !selectedKeysMap.has(key);\n        });\n      }\n\n      handleSelectChange(direction, mergedCheckedKeys);\n      return mergedCheckedKeys;\n    });\n    setPrevSelectedIndex(direction, null);\n  };\n\n  var onLeftItemSelectAll = function onLeftItemSelectAll(keys, checkAll) {\n    onItemSelectAll('left', keys, checkAll);\n  };\n\n  var onRightItemSelectAll = function onRightItemSelectAll(keys, checkAll) {\n    onItemSelectAll('right', keys, checkAll);\n  };\n\n  var leftFilter = function leftFilter(e) {\n    return onSearch === null || onSearch === void 0 ? void 0 : onSearch('left', e.target.value);\n  };\n\n  var rightFilter = function rightFilter(e) {\n    return onSearch === null || onSearch === void 0 ? void 0 : onSearch('right', e.target.value);\n  };\n\n  var handleLeftClear = function handleLeftClear() {\n    return onSearch === null || onSearch === void 0 ? void 0 : onSearch('left', '');\n  };\n\n  var handleRightClear = function handleRightClear() {\n    return onSearch === null || onSearch === void 0 ? void 0 : onSearch('right', '');\n  };\n\n  var handleSingleSelect = function handleSingleSelect(direction, holder, selectedKey, checked, currentSelectedIndex) {\n    var isSelected = holder.has(selectedKey);\n\n    if (isSelected) {\n      holder.delete(selectedKey);\n      setPrevSelectedIndex(direction, null);\n    }\n\n    if (checked) {\n      holder.add(selectedKey);\n      setPrevSelectedIndex(direction, currentSelectedIndex);\n    }\n  };\n\n  var handleMultipleSelect = function handleMultipleSelect(direction, data, holder, currentSelectedIndex) {\n    var isLeftDirection = direction === 'left';\n    var multipleSelect = isLeftDirection ? leftMultipleSelect : rightMultipleSelect;\n    multipleSelect(currentSelectedIndex, data, holder);\n  };\n\n  var onItemSelect = function onItemSelect(direction, selectedKey, checked, multiple) {\n    var isLeftDirection = direction === 'left';\n\n    var holder = _toConsumableArray(isLeftDirection ? sourceSelectedKeys : targetSelectedKeys);\n\n    var holderSet = new Set(holder);\n\n    var data = _toConsumableArray(isLeftDirection ? leftDataSource : rightDataSource).filter(function (item) {\n      return !(item === null || item === void 0 ? void 0 : item.disabled);\n    });\n\n    var currentSelectedIndex = data.findIndex(function (item) {\n      return item.key === selectedKey;\n    }); // multiple select by hold down the shift key\n\n    if (multiple && holder.length > 0) {\n      handleMultipleSelect(direction, data, holderSet, currentSelectedIndex);\n    } else {\n      handleSingleSelect(direction, holderSet, selectedKey, checked, currentSelectedIndex);\n    }\n\n    var holderArr = Array.from(holderSet);\n    handleSelectChange(direction, holderArr);\n\n    if (!props.selectedKeys) {\n      setStateKeys(direction, holderArr);\n    }\n  };\n\n  var onLeftItemSelect = function onLeftItemSelect(selectedKey, checked, e) {\n    onItemSelect('left', selectedKey, checked, e === null || e === void 0 ? void 0 : e.shiftKey);\n  };\n\n  var onRightItemSelect = function onRightItemSelect(selectedKey, checked, e) {\n    onItemSelect('right', selectedKey, checked, e === null || e === void 0 ? void 0 : e.shiftKey);\n  };\n\n  var onRightItemRemove = function onRightItemRemove(keys) {\n    setStateKeys('right', []);\n    onChange === null || onChange === void 0 ? void 0 : onChange(targetKeys.filter(function (key) {\n      return !keys.includes(key);\n    }), 'left', _toConsumableArray(keys));\n  };\n\n  var handleListStyle = function handleListStyle(direction) {\n    if (typeof listStyle === 'function') {\n      return listStyle({\n        direction: direction\n      });\n    }\n\n    return listStyle || {};\n  };\n\n  var formItemContext = useContext(FormItemInputContext);\n  var hasFeedback = formItemContext.hasFeedback,\n      status = formItemContext.status;\n\n  var getLocale = function getLocale(transferLocale) {\n    return Object.assign(Object.assign(Object.assign({}, transferLocale), {\n      notFoundContent: (renderEmpty === null || renderEmpty === void 0 ? void 0 : renderEmpty('Transfer')) || /*#__PURE__*/React.createElement(DefaultRenderEmpty, {\n        componentName: \"Transfer\"\n      })\n    }), locale);\n  };\n\n  var mergedStatus = getMergedStatus(status, customStatus);\n  var mergedPagination = !children && pagination;\n  var leftActive = rightDataSource.filter(function (d) {\n    return targetSelectedKeys.includes(d.key) && !d.disabled;\n  }).length > 0;\n  var rightActive = leftDataSource.filter(function (d) {\n    return sourceSelectedKeys.includes(d.key) && !d.disabled;\n  }).length > 0;\n  var cls = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-customize-list\"), !!children), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), dir === 'rtl'), _classNames), getStatusClassNames(prefixCls, mergedStatus, hasFeedback), transfer === null || transfer === void 0 ? void 0 : transfer.className, className, rootClassName, hashId, cssVarCls);\n\n  var _useLocale = useLocale('Transfer', defaultLocale.Transfer),\n      _useLocale2 = _slicedToArray(_useLocale, 1),\n      contextLocale = _useLocale2[0];\n\n  var listLocale = getLocale(contextLocale);\n\n  var _getTitles = getTitles(listLocale),\n      _getTitles2 = _slicedToArray(_getTitles, 2),\n      leftTitle = _getTitles2[0],\n      rightTitle = _getTitles2[1];\n\n  var mergedSelectionsIcon = selectionsIcon !== null && selectionsIcon !== void 0 ? selectionsIcon : transfer === null || transfer === void 0 ? void 0 : transfer.selectionsIcon;\n  return wrapCSSVar( /*#__PURE__*/React.createElement(\"div\", {\n    className: cls,\n    style: Object.assign(Object.assign({}, transfer === null || transfer === void 0 ? void 0 : transfer.style), style)\n  }, /*#__PURE__*/React.createElement(List, Object.assign({\n    prefixCls: \"\".concat(prefixCls, \"-list\"),\n    titleText: leftTitle,\n    dataSource: leftDataSource,\n    filterOption: filterOption,\n    style: handleListStyle('left'),\n    checkedKeys: sourceSelectedKeys,\n    handleFilter: leftFilter,\n    handleClear: handleLeftClear,\n    onItemSelect: onLeftItemSelect,\n    onItemSelectAll: onLeftItemSelectAll,\n    render: render,\n    showSearch: showSearch,\n    renderList: children,\n    footer: footer,\n    onScroll: handleLeftScroll,\n    disabled: disabled,\n    direction: dir === 'rtl' ? 'right' : 'left',\n    showSelectAll: showSelectAll,\n    selectAllLabel: selectAllLabels[0],\n    pagination: mergedPagination,\n    selectionsIcon: mergedSelectionsIcon\n  }, listLocale)), /*#__PURE__*/React.createElement(Operation, {\n    className: \"\".concat(prefixCls, \"-operation\"),\n    rightActive: rightActive,\n    rightArrowText: operations[0],\n    moveToRight: moveToRight,\n    leftActive: leftActive,\n    leftArrowText: operations[1],\n    moveToLeft: moveToLeft,\n    style: operationStyle,\n    disabled: disabled,\n    direction: dir,\n    oneWay: oneWay\n  }), /*#__PURE__*/React.createElement(List, Object.assign({\n    prefixCls: \"\".concat(prefixCls, \"-list\"),\n    titleText: rightTitle,\n    dataSource: rightDataSource,\n    filterOption: filterOption,\n    style: handleListStyle('right'),\n    checkedKeys: targetSelectedKeys,\n    handleFilter: rightFilter,\n    handleClear: handleRightClear,\n    onItemSelect: onRightItemSelect,\n    onItemSelectAll: onRightItemSelectAll,\n    onItemRemove: onRightItemRemove,\n    render: render,\n    showSearch: showSearch,\n    renderList: children,\n    footer: footer,\n    onScroll: handleRightScroll,\n    disabled: disabled,\n    direction: dir === 'rtl' ? 'left' : 'right',\n    showSelectAll: showSelectAll,\n    selectAllLabel: selectAllLabels[1],\n    showRemove: oneWay,\n    pagination: mergedPagination,\n    selectionsIcon: mergedSelectionsIcon\n  }, listLocale))));\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  Transfer.displayName = 'Transfer';\n}\n\nTransfer.List = List;\nTransfer.Search = Search;\nTransfer.Operation = Operation;\nexport default Transfer;","map":{"version":3,"sources":["/Users/shamryshiraz/Documents/New/Untitled/Portfolio/New/Portfolio-Ruwan-Prasanna/node_modules/antd/es/transfer/index.js"],"names":["_toConsumableArray","React","useCallback","useContext","classNames","useMultipleSelect","getMergedStatus","getStatusClassNames","groupDisabledKeysMap","groupKeysMap","devUseWarning","ConfigContext","DefaultRenderEmpty","FormItemInputContext","useLocale","defaultLocale","useData","useSelection","List","Operation","Search","useStyle","Transfer","props","dataSource","targetKeys","selectedKeys","selectAllLabels","operations","style","listStyle","locale","titles","disabled","showSearch","operationStyle","showSelectAll","oneWay","pagination","customStatus","status","customizePrefixCls","prefixCls","className","rootClassName","selectionsIcon","filterOption","render","footer","children","rowKey","onScroll","onChange","onSearch","onSelectChange","getPrefixCls","renderEmpty","dir","direction","transfer","wrapCSSVar","hashId","cssVarCls","mergedDataSource","leftDataSource","rightDataSource","sourceSelectedKeys","targetSelectedKeys","setSourceSelectedKeys","setTargetSelectedKeys","item","key","leftMultipleSelect","updateLeftPrevSelectedIndex","rightMultipleSelect","updateRightPrevSelectedIndex","process","env","NODE_ENV","warning","setStateKeys","keys","nextKeys","setPrevSelectedIndex","value","isLeftDirection","updatePrevSelectedIndex","handleSelectChange","holder","getTitles","transferLocale","_a","handleLeftScroll","e","handleRightScroll","moveTo","moveKeys","dataSourceDisabledKeysMap","newMoveKeys","filter","has","newMoveKeysMap","newTargetKeys","concat","targetKey","oppositeDirection","moveToLeft","moveToRight","onItemSelectAll","checkAll","prevKeys","mergedCheckedKeys","Array","from","Set","selectedKeysMap","onLeftItemSelectAll","onRightItemSelectAll","leftFilter","target","rightFilter","handleLeftClear","handleRightClear","handleSingleSelect","selectedKey","checked","currentSelectedIndex","isSelected","delete","add","handleMultipleSelect","data","multipleSelect","onItemSelect","multiple","holderSet","findIndex","length","holderArr","onLeftItemSelect","shiftKey","onRightItemSelect","onRightItemRemove","includes","handleListStyle","formItemContext","hasFeedback","getLocale","Object","assign","notFoundContent","createElement","componentName","mergedStatus","mergedPagination","leftActive","d","rightActive","cls","contextLocale","listLocale","leftTitle","rightTitle","mergedSelectionsIcon","titleText","checkedKeys","handleFilter","handleClear","renderList","selectAllLabel","rightArrowText","leftArrowText","onItemRemove","showRemove","displayName"],"mappings":"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","sourcesContent":["\"use client\";\n\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport React, { useCallback, useContext } from 'react';\nimport classNames from 'classnames';\nimport useMultipleSelect from '../_util/hooks/useMultipleSelect';\nimport { getMergedStatus, getStatusClassNames } from '../_util/statusUtils';\nimport { groupDisabledKeysMap, groupKeysMap } from '../_util/transKeys';\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport DefaultRenderEmpty from '../config-provider/defaultRenderEmpty';\nimport { FormItemInputContext } from '../form/context';\nimport { useLocale } from '../locale';\nimport defaultLocale from '../locale/en_US';\nimport useData from './hooks/useData';\nimport useSelection from './hooks/useSelection';\nimport List from './list';\nimport Operation from './operation';\nimport Search from './search';\nimport useStyle from './style';\nconst Transfer = props => {\n  const {\n    dataSource,\n    targetKeys = [],\n    selectedKeys,\n    selectAllLabels = [],\n    operations = [],\n    style = {},\n    listStyle = {},\n    locale = {},\n    titles,\n    disabled,\n    showSearch = false,\n    operationStyle,\n    showSelectAll,\n    oneWay,\n    pagination,\n    status: customStatus,\n    prefixCls: customizePrefixCls,\n    className,\n    rootClassName,\n    selectionsIcon,\n    filterOption,\n    render,\n    footer,\n    children,\n    rowKey,\n    onScroll,\n    onChange,\n    onSearch,\n    onSelectChange\n  } = props;\n  const {\n    getPrefixCls,\n    renderEmpty,\n    direction: dir,\n    transfer\n  } = useContext(ConfigContext);\n  const prefixCls = getPrefixCls('transfer', customizePrefixCls);\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls);\n  // Fill record with `key`\n  const [mergedDataSource, leftDataSource, rightDataSource] = useData(dataSource, rowKey, targetKeys);\n  // Get direction selected keys\n  const [\n  // Keys\n  sourceSelectedKeys, targetSelectedKeys,\n  // Setters\n  setSourceSelectedKeys, setTargetSelectedKeys] = useSelection(leftDataSource, rightDataSource, selectedKeys);\n  const [leftMultipleSelect, updateLeftPrevSelectedIndex] = useMultipleSelect(item => item.key);\n  const [rightMultipleSelect, updateRightPrevSelectedIndex] = useMultipleSelect(item => item.key);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Transfer');\n    process.env.NODE_ENV !== \"production\" ? warning(!pagination || !children, 'usage', '`pagination` not support customize render list.') : void 0;\n  }\n  const setStateKeys = useCallback((direction, keys) => {\n    if (direction === 'left') {\n      const nextKeys = typeof keys === 'function' ? keys(sourceSelectedKeys || []) : keys;\n      setSourceSelectedKeys(nextKeys);\n    } else {\n      const nextKeys = typeof keys === 'function' ? keys(targetSelectedKeys || []) : keys;\n      setTargetSelectedKeys(nextKeys);\n    }\n  }, [sourceSelectedKeys, targetSelectedKeys]);\n  const setPrevSelectedIndex = (direction, value) => {\n    const isLeftDirection = direction === 'left';\n    const updatePrevSelectedIndex = isLeftDirection ? updateLeftPrevSelectedIndex : updateRightPrevSelectedIndex;\n    updatePrevSelectedIndex(value);\n  };\n  const handleSelectChange = useCallback((direction, holder) => {\n    if (direction === 'left') {\n      onSelectChange === null || onSelectChange === void 0 ? void 0 : onSelectChange(holder, targetSelectedKeys);\n    } else {\n      onSelectChange === null || onSelectChange === void 0 ? void 0 : onSelectChange(sourceSelectedKeys, holder);\n    }\n  }, [sourceSelectedKeys, targetSelectedKeys]);\n  const getTitles = transferLocale => {\n    var _a;\n    return (_a = titles !== null && titles !== void 0 ? titles : transferLocale.titles) !== null && _a !== void 0 ? _a : [];\n  };\n  const handleLeftScroll = e => {\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll('left', e);\n  };\n  const handleRightScroll = e => {\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll('right', e);\n  };\n  const moveTo = direction => {\n    const moveKeys = direction === 'right' ? sourceSelectedKeys : targetSelectedKeys;\n    const dataSourceDisabledKeysMap = groupDisabledKeysMap(mergedDataSource);\n    // filter the disabled options\n    const newMoveKeys = moveKeys.filter(key => !dataSourceDisabledKeysMap.has(key));\n    const newMoveKeysMap = groupKeysMap(newMoveKeys);\n    // move items to target box\n    const newTargetKeys = direction === 'right' ? newMoveKeys.concat(targetKeys) : targetKeys.filter(targetKey => !newMoveKeysMap.has(targetKey));\n    // empty checked keys\n    const oppositeDirection = direction === 'right' ? 'left' : 'right';\n    setStateKeys(oppositeDirection, []);\n    handleSelectChange(oppositeDirection, []);\n    onChange === null || onChange === void 0 ? void 0 : onChange(newTargetKeys, direction, newMoveKeys);\n  };\n  const moveToLeft = () => {\n    moveTo('left');\n    setPrevSelectedIndex('left', null);\n  };\n  const moveToRight = () => {\n    moveTo('right');\n    setPrevSelectedIndex('right', null);\n  };\n  const onItemSelectAll = (direction, keys, checkAll) => {\n    setStateKeys(direction, prevKeys => {\n      let mergedCheckedKeys = [];\n      if (checkAll === 'replace') {\n        mergedCheckedKeys = keys;\n      } else if (checkAll) {\n        // Merge current keys with origin key\n        mergedCheckedKeys = Array.from(new Set([].concat(_toConsumableArray(prevKeys), _toConsumableArray(keys))));\n      } else {\n        const selectedKeysMap = groupKeysMap(keys);\n        // Remove current keys from origin keys\n        mergedCheckedKeys = prevKeys.filter(key => !selectedKeysMap.has(key));\n      }\n      handleSelectChange(direction, mergedCheckedKeys);\n      return mergedCheckedKeys;\n    });\n    setPrevSelectedIndex(direction, null);\n  };\n  const onLeftItemSelectAll = (keys, checkAll) => {\n    onItemSelectAll('left', keys, checkAll);\n  };\n  const onRightItemSelectAll = (keys, checkAll) => {\n    onItemSelectAll('right', keys, checkAll);\n  };\n  const leftFilter = e => onSearch === null || onSearch === void 0 ? void 0 : onSearch('left', e.target.value);\n  const rightFilter = e => onSearch === null || onSearch === void 0 ? void 0 : onSearch('right', e.target.value);\n  const handleLeftClear = () => onSearch === null || onSearch === void 0 ? void 0 : onSearch('left', '');\n  const handleRightClear = () => onSearch === null || onSearch === void 0 ? void 0 : onSearch('right', '');\n  const handleSingleSelect = (direction, holder, selectedKey, checked, currentSelectedIndex) => {\n    const isSelected = holder.has(selectedKey);\n    if (isSelected) {\n      holder.delete(selectedKey);\n      setPrevSelectedIndex(direction, null);\n    }\n    if (checked) {\n      holder.add(selectedKey);\n      setPrevSelectedIndex(direction, currentSelectedIndex);\n    }\n  };\n  const handleMultipleSelect = (direction, data, holder, currentSelectedIndex) => {\n    const isLeftDirection = direction === 'left';\n    const multipleSelect = isLeftDirection ? leftMultipleSelect : rightMultipleSelect;\n    multipleSelect(currentSelectedIndex, data, holder);\n  };\n  const onItemSelect = (direction, selectedKey, checked, multiple) => {\n    const isLeftDirection = direction === 'left';\n    const holder = _toConsumableArray(isLeftDirection ? sourceSelectedKeys : targetSelectedKeys);\n    const holderSet = new Set(holder);\n    const data = _toConsumableArray(isLeftDirection ? leftDataSource : rightDataSource).filter(item => !(item === null || item === void 0 ? void 0 : item.disabled));\n    const currentSelectedIndex = data.findIndex(item => item.key === selectedKey);\n    // multiple select by hold down the shift key\n    if (multiple && holder.length > 0) {\n      handleMultipleSelect(direction, data, holderSet, currentSelectedIndex);\n    } else {\n      handleSingleSelect(direction, holderSet, selectedKey, checked, currentSelectedIndex);\n    }\n    const holderArr = Array.from(holderSet);\n    handleSelectChange(direction, holderArr);\n    if (!props.selectedKeys) {\n      setStateKeys(direction, holderArr);\n    }\n  };\n  const onLeftItemSelect = (selectedKey, checked, e) => {\n    onItemSelect('left', selectedKey, checked, e === null || e === void 0 ? void 0 : e.shiftKey);\n  };\n  const onRightItemSelect = (selectedKey, checked, e) => {\n    onItemSelect('right', selectedKey, checked, e === null || e === void 0 ? void 0 : e.shiftKey);\n  };\n  const onRightItemRemove = keys => {\n    setStateKeys('right', []);\n    onChange === null || onChange === void 0 ? void 0 : onChange(targetKeys.filter(key => !keys.includes(key)), 'left', _toConsumableArray(keys));\n  };\n  const handleListStyle = direction => {\n    if (typeof listStyle === 'function') {\n      return listStyle({\n        direction\n      });\n    }\n    return listStyle || {};\n  };\n  const formItemContext = useContext(FormItemInputContext);\n  const {\n    hasFeedback,\n    status\n  } = formItemContext;\n  const getLocale = transferLocale => Object.assign(Object.assign(Object.assign({}, transferLocale), {\n    notFoundContent: (renderEmpty === null || renderEmpty === void 0 ? void 0 : renderEmpty('Transfer')) || /*#__PURE__*/React.createElement(DefaultRenderEmpty, {\n      componentName: \"Transfer\"\n    })\n  }), locale);\n  const mergedStatus = getMergedStatus(status, customStatus);\n  const mergedPagination = !children && pagination;\n  const leftActive = rightDataSource.filter(d => targetSelectedKeys.includes(d.key) && !d.disabled).length > 0;\n  const rightActive = leftDataSource.filter(d => sourceSelectedKeys.includes(d.key) && !d.disabled).length > 0;\n  const cls = classNames(prefixCls, {\n    [`${prefixCls}-disabled`]: disabled,\n    [`${prefixCls}-customize-list`]: !!children,\n    [`${prefixCls}-rtl`]: dir === 'rtl'\n  }, getStatusClassNames(prefixCls, mergedStatus, hasFeedback), transfer === null || transfer === void 0 ? void 0 : transfer.className, className, rootClassName, hashId, cssVarCls);\n  const [contextLocale] = useLocale('Transfer', defaultLocale.Transfer);\n  const listLocale = getLocale(contextLocale);\n  const [leftTitle, rightTitle] = getTitles(listLocale);\n  const mergedSelectionsIcon = selectionsIcon !== null && selectionsIcon !== void 0 ? selectionsIcon : transfer === null || transfer === void 0 ? void 0 : transfer.selectionsIcon;\n  return wrapCSSVar(/*#__PURE__*/React.createElement(\"div\", {\n    className: cls,\n    style: Object.assign(Object.assign({}, transfer === null || transfer === void 0 ? void 0 : transfer.style), style)\n  }, /*#__PURE__*/React.createElement(List, Object.assign({\n    prefixCls: `${prefixCls}-list`,\n    titleText: leftTitle,\n    dataSource: leftDataSource,\n    filterOption: filterOption,\n    style: handleListStyle('left'),\n    checkedKeys: sourceSelectedKeys,\n    handleFilter: leftFilter,\n    handleClear: handleLeftClear,\n    onItemSelect: onLeftItemSelect,\n    onItemSelectAll: onLeftItemSelectAll,\n    render: render,\n    showSearch: showSearch,\n    renderList: children,\n    footer: footer,\n    onScroll: handleLeftScroll,\n    disabled: disabled,\n    direction: dir === 'rtl' ? 'right' : 'left',\n    showSelectAll: showSelectAll,\n    selectAllLabel: selectAllLabels[0],\n    pagination: mergedPagination,\n    selectionsIcon: mergedSelectionsIcon\n  }, listLocale)), /*#__PURE__*/React.createElement(Operation, {\n    className: `${prefixCls}-operation`,\n    rightActive: rightActive,\n    rightArrowText: operations[0],\n    moveToRight: moveToRight,\n    leftActive: leftActive,\n    leftArrowText: operations[1],\n    moveToLeft: moveToLeft,\n    style: operationStyle,\n    disabled: disabled,\n    direction: dir,\n    oneWay: oneWay\n  }), /*#__PURE__*/React.createElement(List, Object.assign({\n    prefixCls: `${prefixCls}-list`,\n    titleText: rightTitle,\n    dataSource: rightDataSource,\n    filterOption: filterOption,\n    style: handleListStyle('right'),\n    checkedKeys: targetSelectedKeys,\n    handleFilter: rightFilter,\n    handleClear: handleRightClear,\n    onItemSelect: onRightItemSelect,\n    onItemSelectAll: onRightItemSelectAll,\n    onItemRemove: onRightItemRemove,\n    render: render,\n    showSearch: showSearch,\n    renderList: children,\n    footer: footer,\n    onScroll: handleRightScroll,\n    disabled: disabled,\n    direction: dir === 'rtl' ? 'left' : 'right',\n    showSelectAll: showSelectAll,\n    selectAllLabel: selectAllLabels[1],\n    showRemove: oneWay,\n    pagination: mergedPagination,\n    selectionsIcon: mergedSelectionsIcon\n  }, listLocale))));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Transfer.displayName = 'Transfer';\n}\nTransfer.List = List;\nTransfer.Search = Search;\nTransfer.Operation = Operation;\nexport default Transfer;"]},"metadata":{},"sourceType":"module"}