{"ast":null,"code":"\"use client\";\n\nimport _slicedToArray from \"/Users/shamryshiraz/Documents/New/Untitled/Portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport * as React from 'react';\nimport useState from \"rc-util/es/hooks/useState\";\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/buttonHelpers';\n\nfunction isThenable(thing) {\n  return !!(thing === null || thing === void 0 ? void 0 : thing.then);\n}\n\nvar ActionButton = function ActionButton(props) {\n  var type = props.type,\n      children = props.children,\n      prefixCls = props.prefixCls,\n      buttonProps = props.buttonProps,\n      close = props.close,\n      autoFocus = props.autoFocus,\n      emitEvent = props.emitEvent,\n      isSilent = props.isSilent,\n      quitOnNullishReturnValue = props.quitOnNullishReturnValue,\n      actionFn = props.actionFn;\n  var clickedRef = React.useRef(false);\n  var buttonRef = React.useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var onInternalClose = function onInternalClose() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    close === null || close === void 0 ? void 0 : close.apply(void 0, args);\n  };\n\n  React.useEffect(function () {\n    var timeoutId = null;\n\n    if (autoFocus) {\n      timeoutId = setTimeout(function () {\n        var _a;\n\n        (_a = buttonRef.current) === null || _a === void 0 ? void 0 : _a.focus({\n          preventScroll: true\n        });\n      });\n    }\n\n    return function () {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, []);\n\n  var handlePromiseOnOk = function handlePromiseOnOk(returnValueOfOnOk) {\n    if (!isThenable(returnValueOfOnOk)) {\n      return;\n    }\n\n    setLoading(true);\n    returnValueOfOnOk.then(function () {\n      setLoading(false, true);\n\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      onInternalClose.apply(void 0, args);\n      clickedRef.current = false;\n    }, function (e) {\n      // See: https://github.com/ant-design/ant-design/issues/6183\n      setLoading(false, true);\n      clickedRef.current = false; // Do not throw if is `await` mode\n\n      if (isSilent === null || isSilent === void 0 ? void 0 : isSilent()) {\n        return;\n      }\n\n      return Promise.reject(e);\n    });\n  };\n\n  var onClick = function onClick(e) {\n    if (clickedRef.current) {\n      return;\n    }\n\n    clickedRef.current = true;\n\n    if (!actionFn) {\n      onInternalClose();\n      return;\n    }\n\n    var returnValueOfOnOk;\n\n    if (emitEvent) {\n      returnValueOfOnOk = actionFn(e);\n\n      if (quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n        clickedRef.current = false;\n        onInternalClose(e);\n        return;\n      }\n    } else if (actionFn.length) {\n      returnValueOfOnOk = actionFn(close); // https://github.com/ant-design/ant-design/issues/23358\n\n      clickedRef.current = false;\n    } else {\n      returnValueOfOnOk = actionFn();\n\n      if (!isThenable(returnValueOfOnOk)) {\n        onInternalClose();\n        return;\n      }\n    }\n\n    handlePromiseOnOk(returnValueOfOnOk);\n  };\n\n  return /*#__PURE__*/React.createElement(Button, Object.assign({}, convertLegacyProps(type), {\n    onClick: onClick,\n    loading: loading,\n    prefixCls: prefixCls\n  }, buttonProps, {\n    ref: buttonRef\n  }), children);\n};\n\nexport default ActionButton;","map":{"version":3,"sources":["/Users/shamryshiraz/Documents/New/Untitled/Portfolio/node_modules/antd/es/_util/ActionButton.js"],"names":["React","useState","Button","convertLegacyProps","isThenable","thing","then","ActionButton","props","type","children","prefixCls","buttonProps","close","autoFocus","emitEvent","isSilent","quitOnNullishReturnValue","actionFn","clickedRef","useRef","buttonRef","loading","setLoading","onInternalClose","args","apply","useEffect","timeoutId","setTimeout","_a","current","focus","preventScroll","clearTimeout","handlePromiseOnOk","returnValueOfOnOk","e","Promise","reject","onClick","length","createElement","Object","assign","ref"],"mappings":"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","sourcesContent":["\"use client\";\n\nimport * as React from 'react';\nimport useState from \"rc-util/es/hooks/useState\";\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/buttonHelpers';\nfunction isThenable(thing) {\n  return !!(thing === null || thing === void 0 ? void 0 : thing.then);\n}\nconst ActionButton = props => {\n  const {\n    type,\n    children,\n    prefixCls,\n    buttonProps,\n    close,\n    autoFocus,\n    emitEvent,\n    isSilent,\n    quitOnNullishReturnValue,\n    actionFn\n  } = props;\n  const clickedRef = React.useRef(false);\n  const buttonRef = React.useRef(null);\n  const [loading, setLoading] = useState(false);\n  const onInternalClose = (...args) => {\n    close === null || close === void 0 ? void 0 : close.apply(void 0, args);\n  };\n  React.useEffect(() => {\n    let timeoutId = null;\n    if (autoFocus) {\n      timeoutId = setTimeout(() => {\n        var _a;\n        (_a = buttonRef.current) === null || _a === void 0 ? void 0 : _a.focus({\n          preventScroll: true\n        });\n      });\n    }\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, []);\n  const handlePromiseOnOk = returnValueOfOnOk => {\n    if (!isThenable(returnValueOfOnOk)) {\n      return;\n    }\n    setLoading(true);\n    returnValueOfOnOk.then((...args) => {\n      setLoading(false, true);\n      onInternalClose.apply(void 0, args);\n      clickedRef.current = false;\n    }, e => {\n      // See: https://github.com/ant-design/ant-design/issues/6183\n      setLoading(false, true);\n      clickedRef.current = false;\n      // Do not throw if is `await` mode\n      if (isSilent === null || isSilent === void 0 ? void 0 : isSilent()) {\n        return;\n      }\n      return Promise.reject(e);\n    });\n  };\n  const onClick = e => {\n    if (clickedRef.current) {\n      return;\n    }\n    clickedRef.current = true;\n    if (!actionFn) {\n      onInternalClose();\n      return;\n    }\n    let returnValueOfOnOk;\n    if (emitEvent) {\n      returnValueOfOnOk = actionFn(e);\n      if (quitOnNullishReturnValue && !isThenable(returnValueOfOnOk)) {\n        clickedRef.current = false;\n        onInternalClose(e);\n        return;\n      }\n    } else if (actionFn.length) {\n      returnValueOfOnOk = actionFn(close);\n      // https://github.com/ant-design/ant-design/issues/23358\n      clickedRef.current = false;\n    } else {\n      returnValueOfOnOk = actionFn();\n      if (!isThenable(returnValueOfOnOk)) {\n        onInternalClose();\n        return;\n      }\n    }\n    handlePromiseOnOk(returnValueOfOnOk);\n  };\n  return /*#__PURE__*/React.createElement(Button, Object.assign({}, convertLegacyProps(type), {\n    onClick: onClick,\n    loading: loading,\n    prefixCls: prefixCls\n  }, buttonProps, {\n    ref: buttonRef\n  }), children);\n};\nexport default ActionButton;"]},"metadata":{},"sourceType":"module"}